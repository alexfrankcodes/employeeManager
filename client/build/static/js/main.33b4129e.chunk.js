(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,a,t){e.exports=t(78)},46:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),c=t.n(l),o=(t(46),t(2)),s=t(11),i=function(){return r.a.createElement("nav",{className:"navbar bg-dark"},r.a.createElement("h1",null,r.a.createElement(o.b,{to:"/"},r.a.createElement("i",{className:"fas fa-walking"})," EmStar")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Login"))))},m=function(){return r.a.createElement("section",{class:"landing"},r.a.createElement("div",{class:"dark-overlay"},r.a.createElement("div",{class:"landing-inner"},r.a.createElement("h1",{class:"x-large"},"Welcome to EmStar"),r.a.createElement("div",{class:"buttons"},r.a.createElement(o.b,{to:"/register",className:"btn btn-primary"},"Sign Up"),r.a.createElement(o.b,{to:"/login",className:"btn btn-light"},"Login")))))},u=t(9),p=t.n(u),d=t(13),E=t(14),f=t(12),g=t(20),v=t(15),b=t(36),h=t.n(b),y=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;return function(n){var r=h.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:a,id:r}}),setTimeout(function(){return n({type:"REMOVE_ALERT",payload:r})},t)}},w=t(37),S=t.n(w),N=Object(v.b)(null,{setAlert:y,register:function(e){var a=e.name,t=e.email,n=e.password;return function(){var e=Object(d.a)(p.a.mark(function e(r){var l,c,o,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:a,email:t,password:n}),e.prev=2,e.next=5,S.a.post("/api/users",c,l);case 5:o=e.sent,r({type:"REGISTER_SUCCESS",payload:o.data}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),(s=e.t0.response.data.errors)&&s.forEach(function(e){return r(y(e.msg,"danger"))}),r({type:"REGISTER_FAIL"});case 14:case"end":return e.stop()}},e,null,[[2,9]])}));return function(a){return e.apply(this,arguments)}}()}})(function(e){var a=e.setAlert,t=e.register,l=Object(n.useState)({name:"",email:"",password:"",passwordConfirm:""}),c=Object(g.a)(l,2),s=c[0],i=c[1],m=s.name,u=s.email,v=s.password,b=s.passwordConfirm,h=function(e){return i(Object(f.a)({},s,Object(E.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(d.a)(p.a.mark(function e(n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v!==b?a("Passwords do not match","danger"):t({name:m,email:u,password:v});case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign Up"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Create Your Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return y(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:m,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:u,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:v,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"passwordConfirm",value:b,onChange:function(e){return h(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Register"})),r.a.createElement("p",{className:"my-1"},"Already have an account? ",r.a.createElement(o.b,{to:"/login"},"Sign In")))}),O=function(){var e=Object(n.useState)({email:"",password:""}),a=Object(g.a)(e,2),t=a[0],l=a[1],c=t.email,s=t.password,i=function(e){return l(Object(f.a)({},t,Object(E.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(d.a)(p.a.mark(function e(a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),console.log("Success");case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"alert alert-danger"},"Invalid credentials"),r.a.createElement("h1",{className:"large text-primary"},"Sign In"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Sign into Your Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return m(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:c,onChange:function(e){return i(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:s,onChange:function(e){return i(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Login"})),r.a.createElement("p",{className:"my-1"},"Don't have an account? ",r.a.createElement(o.b,{to:"/register"},"Sign Up")))},j=Object(v.b)(function(e){return{alerts:e.alert}})(function(e){var a=e.alerts;return null!==a&&a.length>0&&a.map(function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)})}),R=t(10),k=t(38),A=t(39),C=t(40),T=[],x={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},I=Object(R.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_ALERT":return[].concat(Object(C.a)(e),[n]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==n});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"REGISTER_SUCCESS":return localStorage.setItem("token",n.token),Object(f.a)({},e,n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(f.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}}}),L=[A.a],_=Object(R.createStore)(I,{},Object(k.composeWithDevTools)(R.applyMiddleware.apply(void 0,L))),F=function(){return r.a.createElement(v.a,{store:_},r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(i,null),r.a.createElement(s.a,{exact:!0,path:"/",component:m}),r.a.createElement("section",{className:"container"},r.a.createElement(j,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/register",component:N}),r.a.createElement(s.a,{exact:!0,path:"/login",component:O}))))))};c.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.33b4129e.chunk.js.map